<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,shrink-to-fit=no"
    />
    <meta name="description" content="Prototype Site" />
    <!-- <link rel="apple-touch-icon" sizes="180x180" href="assets/images/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="96x96" href="assets/images/favicon.png"> -->
    <meta name="author" content="Ernest Pena Jr" />
    <meta name="HandheldFriendly" content="true" />
    <title>A.I.M.</title>
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/fontawesome-pro-5.15.4/css/all.css" />
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="node_modules/datatables.net-bs5/css/dataTables.bootstrap5.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
  </head>
<style>
.btn-custom {
    background-color: #f97316; /* Example orange color */
    color: white; /* Text color */
}

.btn-custom:hover {
    background-color: #dd6b20; /* Darker shade of orange for hover effect */
    color: white;
}
.varela-round-regular {
  font-family: "Varela Round", sans-serif;
  font-weight: 400;
  font-style: normal;
}
.bg-custom {
    background-color: #466a9a;
}


</style>
  <body>
    <div class="main-container d-flex">
      <div class="sidebar border-2 border-end border-secondary bg-custom" id="side_nav">
        <div class="header-box px-2 pt-3 pb-4 d-flex justify-content-between">
          <h1 class="fs-4 d-flex justify-content-center align-conent-center w-100">
            <span class="rounded px-2 me-2 text-white fs-1" style="font-family: Varela Round, sans-serif">AIM</span>
          </h1>
          <button class="btn d-md-none d-block close-btn px-1 py-0 text-white">
            <i class="fal fa-stream"></i>
          </button>
        </div>

        <ul class="list-unstyled px-2">
          <li class="active">
            <a href="#" class="text-decoration-none px-3 py-2 d-block  fs-4" ><i class="fal fa-home"></i> Dashboard</a >
          </li>
          <li class="">
            <a href="#" class="text-decoration-none px-3 py-2 d-block  fs-4" ><i class="fal fa-sliders-h"></i> Settings</a >
          </li>

          <li class="">
            <a href="#" class="text-decoration-none px-3 py-2 d-block  fs-4" ><i class="fal fa-users"></i> Accounts</a >
          </li>
          <li class="">
            <a href="#" class="text-decoration-none px-3 py-2 d-block  fs-4" ><i class="fal fa-user-headset"></i> Help</a >
          </li>
        </ul>
      </div>
      <div class="content">
        <nav class="navbar navbar-expand-md navbar-light border-2 border-bottom border-secondary shadow-md bg-secondary-subtle">
          <div class="container-fluid">
            <div class="d-flex justify-content-between d-md-none d-block">
              <button class="btn px-1 py-0 open-btn me-2"> <i class="fal fa-stream"></i> </button>
              <a class="navbar-brand fs-4" href="#" ><span class="bg-dark rounded px-2 py-0 text-white"></span></a >
            </div>
            <form class="" role="search">

                <div class="position-relative icon-inside-input">
                    <input class="form-control" type="search" placeholder="Search" aria-label="Search" style="width:600px">
                    <i class="far fa-search position-absolute"></i>
                </div>
  
            </form>
            <button
              class="navbar-toggler p-0 border-0"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent"
              aria-expanded="false"
              aria-label="Toggle navigation" >
              <i class="fal fa-bars"></i> </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent" >
                
              <ul class="navbar-nav mb-2 mb-lg-0">
                <ul class="navbar-nav mb-2 mb-lg-0">
                  <li class="nav-item mx-1">
                    <button id="resetAll" class="btn btn-light">Clear Filters</button>
                  </li>
                  <li class="nav-item">
                    <button id=" " class="btn btn-dark btnX">View All Data</button>
                  </li>
                  <li class="nav-item mx-1">
                    <button id="Top" class="btn btn-danger btnX">Top</button>
                  </li>
                  <li class="nav-item">
                    <button id="High" class="btn btn-custom btnX">High</button>
                  </li>
                  <li class="nav-item mx-1">
                    <button id="Moderate" class="btn btn-warning btnX">Moderate</button>
                  </li>
                  <li class="nav-item">
                    <button id="Low" class="btn btn-primary btnX">Low</button>
                  </li>
                
                <li class="nav-item">
                  <a class="nav-link" href="#"><i class="fas fa-bell-on"></i></a >
                </li>
                <li class="nav-item mx-auto">
                  <a class="mt-2 text-secondary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight"><i class="fas fa-filter"></i></a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
        
        <div class="dashboard-content px-3 pt-4 bg-secondary-subtle">
          <div class="row">
            <div class="col-md-4">
                <div class="card mb-3">
                    <div class="card-body">
                      <h4 class="card-title text-uppercase">Key Performance Indicator</h4>
                        <div class="row">
                            <div class="col-md-12 mb-3">
                                <div class="card h-100 shadow-sm">
                                  <div class="card-body justify-content-center align-items-center">
                                      <div class="d-flex justify-content-center align-items-center">
                                          <span class="text-uppercase fw-lighter">volume</span>
                                      </div>
                                      <div class="d-flex justify-content-center align-items-center">
                                          <span id="volume" class="fs-2 ms-2">0</span>
                                      </div>
                                  </div>
                                </div>
                            </div>
                            </div>
<div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="card h-100 shadow-sm">
                                    <div class="card-body justify-content-center align-items-center">
                                        <div class="d-flex justify-content-center align-items-center">
                                            <span class="text-uppercase fw-lighter">vendors</span>
                                        </div>
                                        <div class="d-flex justify-content-center align-items-center">
                                            <span id="vendors" class="fs-2 ms-2">0</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                              
                            <div class="col-md-6 mb-3">
                                <div class="card h-100 shadow-sm">
                                    <div class="card-body justify-content-center align-items-center">
                                        <div class="d-flex justify-content-center align-items-center">
                                            <span class="text-uppercase fw-lighter">products</span>
                                        </div>
                                        <div class="d-flex justify-content-center align-items-center">
                                            <span id="products" class="fs-2 ms-2">0</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
              <div class="card h-100">
                  <div class="card-header">
                    <span class="me-2"><i class="bi bi-bar-chart-fill"></i></span> Area Chart Example
                  </div>
                  <div class="card-body">
                      <canvas class="chart" width="400" height="200"></canvas>
                   </div>
              </div>
          </div>

            <div class="col-md-4">
                <div class="card h-100">
                  <div class="card-header">
                    <span class="me-2"><i class="bi bi-bar-chart-fill"></i></span> Area Chart Example
                  </div>
                    <div class="card-body">
                        <canvas id="myDonutChart"></canvas>
                    </div>
                </div>
            </div>
        </div>    

        <div class="row mt-3">
            <!-- <div class="col-md-4 mb-3">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                      <h3>Bubble Chart Data</h3>
                        <canvas id="myBubbleChart" height="350"></canvas>
                    </div>
                </div>
            </div> -->
          <div class="col-md-12">
            <div class="card">
              <div class="card-header">
                <span><i class="bi bi-table me-2"></i></span> Data Table
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table
                    id="aimTblData"
                    class="table table-sm table-striped data-table"
                    style="width: 100%" >
                    <thead>
                      <tr>
                        <th>RATING</th>
                        <th>SCORE</th>
                        <th>VENDOR NAME</th>
                        <th>PRODUCT NAME</th>
                        <th>STREET</th>
                        <th>CITY</th>
                        <th>STATE</th>
                        <th>ZIP CODE</th>
                      </tr>
                    </thead>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>


        </div>
      </div>
    </div>


    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title text-uppercase" id="offcanvasRightLabel">Filters</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>

      <div class="card m-4">
        <div class="card-body">
          <div class="card-title">Click to apply filter</div>
          <div class="offcanvas-body">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
              <label class="form-check-label" for="flexSwitchCheckDefault">Article Findings</label>
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked>
              <label class="form-check-label" for="flexSwitchCheckChecked">Seller Name Change</label>
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDisabled" >
              <label class="form-check-label" for="flexSwitchCheckDisabled">Price Difference</label>
            </div>
          </div>
        </div>
      </div>
     
    </div>


    <div id="reportIt" class="modal fade" tabindex="-1">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Detailed Report "<span id="VendorName"></span>"</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p><span id="VENDOR_NAME"></span>, identified by Vendor ID <span id="VENDOR_ID" class="fw-bold"></span>, specializes in "<span id="PRODUCT_NAME" class="fw-bold"></span>", operating out of <span id="STREET_NAME" class="fw-bold"></span>, <span id="CITY" class="fw-bold"></span>, <span id="STATE" class="fw-bold"></span>, with the ZIP code <span id="ZIP_CODE" class="fw-bold"></span>.</p>
            <p> The company, under the management of <span id="SELLER_FIRST_NAME" class="fw-bold"></span> <span id="SELLER_LAST_NAME" class="fw-bold"></span>, boasts an impressive annual sales figure of approximately <span id="ANNUAL_SALES" class="fw-bold"></span>, highlighting its significant impact in the <span id="PRODUCT_GATEGORY" class="fw-bold"></span>.</p>
            <p>Despite a score category of <span id="score_category" class="fw-bold"></span> with a rating score of <span id="RATING_SCORE" class="fw-bold"></span> and a total score of <span id="TOTAL_SCORE" class="fw-bold"></span>, it maintains a product diversity score of <span id="Product_Diversity_Score" class="fw-bold"></span> and a verified company score of 10.</p>
            <p>The contact details, inclusive of phone (<span id="SELLER_PHONE" class="fw-bold"></span>) and email (<span id="SELLER_EMAIL" class="fw-bold"></span>), alongside the seller's URL, provide avenues for further engagement. Notably, the vendor demonstrates adherence to verification standards, indicated by its status as a verified company. </p>
            <p>Additionally, the alignment with market pricing is evident, with no reported price difference from the standard, setting the product price at <span id="PRODUCT_PRICE" class="fw-bold"></span>.</p>
          <br>
          <p>If you feel the rating of <span id="score_category" class="fw-bold"></span> is incorrect, you make submit your rating along with a detailed statement as to why the rating should be changed.</p>
          <br>
            <div class="card mb-">
              <div class="card-body">
                <h5 class="card-title">Rating Change</h5>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
                  <label class="form-check-label" for="inlineRadio1">TOP</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                  <label class="form-check-label" for="inlineRadio2">HIGH</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3">
                  <label class="form-check-label" for="inlineRadio3">MODERATE</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio4" value="option4">
                  <label class="form-check-label" for="inlineRadio4">LOW</label>
                </div>
                <div class="form-floating">
                  <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea"></textarea>
                  <label for="floatingTextarea">Detailed Statement</label>
                </div>

              </div>
            </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button id="raitingChange" type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
    <script src="assets/js/app.js"></script>
    <script src="node_modules/chart.js/dist/chart.umd.js"></script>
    <script src="node_modules/jquery/dist/jquery.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>
    <script src="node_modules/datatables.net/js/jquery.dataTables.js"></script>
    <script src="node_modules/datatables.net-bs5/js/dataTables.bootstrap5.js"></script>
  </body>
</html>
<script>
const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))

  $(document).ready(function () {

    $('.btnX').click(function(){
        var rl = $(this).attr('id');
        getByRisk(rl);
    });

    $('#raitingChange').click(function(){
        var rl = $(this).attr('id');
        getByRisk(rl);
    });


    $(".sidebar ul li").on("click", function () {
      
      $(".sidebar ul li.active").removeClass("active");
      $(this).addClass("active")
     
    });

    $(".open-btn").on("click", function () {
      $(".sidebar").addClass("active");

    });

    $(".close-btn").on("click", function () {
      $(".sidebar").removeClass("active");
    });

    $(".data-table").each(function (_, table) {
      $(table).DataTable();
    });
    var rl = " ";
    getByRisk(rl);
    // getVendorCount(rl)
    // getProductCount(rl)
    // getVolumeCount(rl)



    // function processVendorData(jsonData) {
    //     // Parse JSON if it's a string, otherwise assume it's already an object
    //     var data = typeof jsonData === 'string' ? $.parseJSON(jsonData) : jsonData;

    //     var categoryTotals = {};

    //     $.each(data, function(index, record) {
    //         var category = record['PRODUCT_GATEGORY'];
    //         var sales = parseFloat(record['ANNUAL_SALES']);

    //         if (!categoryTotals[category]) {
    //             categoryTotals[category] = 0;
    //         }
    //         categoryTotals[category] += sales;
    //     });

    //     // Logging the result to console
    //     console.log(categoryTotals);
    //     return categoryTotals;
    // }

    // // Assuming jsonData is your JSON data
    // var jsonData = '[{"VENDOR_ID":1,"PRODUCT_GATEGORY":"Perfumes & Fragrances","ANNUAL_SALES":8635298.57}, {"VENDOR_ID":2,"PRODUCT_GATEGORY":"Perfumes & Fragrances","ANNUAL_SALES":8450388.16}]';

    // // Call the function with your JSON data
    // var result = processVendorData(jsonData);

    // // Use 'result' as needed, for example, display it on your webpage
    // // For demonstration, this will just log the output
    // console.log(result);
});

  function lineChart() {
        var ctx = $('#myLineChart').get(0).getContext('2d');
        var myLineChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['2016', '2017', '2018', '2019', '2020'], // Example years
                datasets: [{
                    label: 'Actual Revenue',
                    data: [100000, 120000, 130000, 125000, 140000], // Example revenue data
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                }, {
                    label: 'Losses Due to Fraud',
                    data: [500, 7000, 45000, 20500, 75000], // Example fraud loss data
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Amount in USD'
                        }
                    }
                },
                responsive: true,
                maintainAspectRatio: false,
            }
        });
    }

    function loadChart(top, high, moderate, low) {
    const charts = document.querySelectorAll(".chart");
    charts.forEach(function (chart, index) {
        // Attempt to retrieve an existing chart instance
        var existingChart = Chart.getChart(chart); // New way to get existing chart instance by passing the canvas
        if (existingChart) {
            existingChart.destroy();
        }

        var ctx = chart.getContext("2d");
        var myChart = new Chart(ctx, {
            type: "bar",
            data: {
                labels: ['TOP', 'HIGH', 'MODERATE', 'LOW'],
                datasets: [{
                    label: 'My First Dataset',
                    data: [top, high, moderate, low],
                    backgroundColor: [
                        'rgb(255, 99, 132)',
                        'rgb(255, 159, 64)',
                        'rgb(255, 205, 86)',
                        'rgb(54, 162, 235)',
                    ],
                    hoverOffset: 4
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                    },
                },
            },
        });
    });
}

function donutChart(top, high, moderate, low) {
    var ctx = $('#myDonutChart').get(0).getContext('2d');
    // Check and destroy the existing chart if it's there
    var existingChart = Chart.getChart("myDonutChart"); // Use the ID or context of the canvas
    if (existingChart) {
        existingChart.destroy();
    }

    var myDonutChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['TOP', 'HIGH', 'MODERATE', 'LOW'],
            datasets: [{
                label: 'My First Dataset',
                data: [top, high, moderate, low],
                backgroundColor: [
                    'rgb(255, 99, 132)',
                    'rgb(255, 159, 64)',
                    'rgb(255, 205, 86)',
                    'rgb(54, 162, 235)',
                ],
                hoverOffset: 4
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
        }
    });
}
function getVendorProductCount(rl){
    $.ajax({
        url: 'assets/PHP/functions.php',
        dataType: 'json',
        type: 'POST',
        data: {
            method: "getVendorProductCount",
            riskLevel: rl
        },
        success: function(data){
            console.log(data.items);
            if(rl.lendth > 0){
                var vendorCount = 0;
                var productCount = 0;
                for (var i = 0; i < data.items.length; i++) {
                    vendorCount += parseFloat(data.items[i].DISTINCT_VENDOR_COUNT);
                    productCount += parseFloat(data.items[i].DISTINCT_PRODUCT_COUNT);
                }
                $('#vendors').text(vendorCount);
                $('#products').text(productCount);
            }else{
                $('#vendors').text(data.items[0].DISTINCT_VENDOR_COUNT);
                $('#products').text(data.items[0].DISTINCT_PRODUCT_COUNT);
            }
        },
        error: function(xhr, status, error) {
            $('#result').html("Error: " + error);
        }
    });
}

    function getByRisk(rl){
        $.ajax({
            url: 'assets/PHP/functions.php',
            dataType: 'json',
            type: 'POST',
            data: {
                method: "getByRiskLevel", 
                riskLevel: rl
            },
            success: function(data){
                var tbl = data.items
                console.log(tbl);
                //getVolumeCount(rl);
                //getVendorCount(rl);
                //getProductCount(rl);
                getVendorProductCount(rl)
                //count total "high" risk
                var high = 0;
                var top = 0;
                var moderate = 0;
                var low = 0;
                for (var i = 0; i < tbl.length; i++) {
                    if(tbl[i].score_category == 'HIGH'){
                        high++;
                    }else if(tbl[i].score_category == 'TOP'){
                        top++;
                    }else if(tbl[i].score_category == 'MODERATE'){
                        moderate++;
                    }else if(tbl[i].score_category == 'LOW'){
                        low++;
                    }
                }
                donutChart(top, high, moderate, low);
                loadChart(top, high, moderate, low);

                var volume = 0;
                for (var i = 0; i < tbl.length; i++) {
                    volume += parseFloat(tbl[i].ANNUAL_SALES);
                }
                var volCount = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(volume);
                $('#volume').text(volCount);

                if ($.fn.DataTable.isDataTable('#aimTblData')) {
                    $('#aimTblData').DataTable().destroy();
                }
                $("#aimTblData").DataTable({
                    "data": tbl,
                    "columns": [
                        { "data": "score_category" },
                        { "data": "TOTAL_SCORE" }, // Make sure the property names match exactly
                        { "data": "SELLER_FIRST_NAME" },
                        { "data": "PRODUCT_NAME" },
                        { "data": "STREET_NAME" },
                        { "data": "CITY" },
                        { "data": "STATE" },
                        { "data": "ZIP_CODE" },
                    ],
                    "order": [[2, "asc"]]
                });
                //click on table row and open modal
                $('#aimTblData tbody').on('click', 'tr', function () {
                    var data = $('#aimTblData').DataTable().row( this ).data();
                    
                    if(data.score_category == 'TOP'){
                        var color = 'rgb(255, 99, 132)';
                    }else if(data.score_category == 'HIGH'){
                        var color = 'rgb(255, 159, 64)';
                    }else if(data.score_category == 'MODERATE'){
                        var color = 'rgb(255, 205, 86)';
                    }else if(data.score_category == 'LOW'){
                        var color = 'rgb(54, 162, 235)';
                    }
                    let ProductPrice = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(data.PRODUCT_PRICE);
                    let AnnualSales = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(data.ANNUAL_SALES);

                    
                    $('#VENDOR_NAME').text(data.VENDOR_NAME);
                    $('#VendorName').text(data.VENDOR_NAME);
                    $('#VENDOR_ID').text(data.VENDOR_ID);
                    $('#PRODUCT_NAME').text(data.PRODUCT_NAME);
                    $('#STREET_NAME').text(data.STREET_NAME);
                    $('#CITY').text(data.CITY);
                    $('#STATE').text(data.STATE);
                    $('#ZIP_CODE').text(data.ZIP_CODE);
                    $('#SELLER_FIRST_NAME').text(data.SELLER_FIRST_NAME);
                    $('#SELLER_LAST_NAME').text(data.SELLER_LAST_NAME);
                    $('#ANNUAL_SALES').text(AnnualSales);
                    $('#PRODUCT_GATEGORY').text(data.PRODUCT_GATEGORY);
                    $('#RATING_SCORE').text(data.RATING_SCORE)
                    $('#TOTAL_SCORE').text(data.TOTAL_SCORE);
                    $('#Product_Diversity_Score').text(data.Product_Diversity_Score);
                    $('#SELLER_PHONE').text(data.SELLER_PHONE);
                    $('#SELLER_EMAIL').text(data.SELLER_EMAIL);
                    $('#PRODUCT_PRICE').text(ProductPrice);
                    $('#score_category').html('<span class="p-1 rounded" style="background-color:'+color+'">'+data.score_category+'</span>');

                    $('#reportIt').modal('show');
                });
            },
            error: function(xhr, status, error) {
               
                $('#result').html("Error: " + error);
            }
        });
    }


</script>
